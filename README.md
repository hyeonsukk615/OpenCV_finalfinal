필기체 숫자 입력창 500 x 500 윈도우에 마우스로 입력

저장기능 저장버튼 클릭시 콘솔창에서 파일이름 입력 후 현재 입력창의 영상을 프로젝트 폴더에 파일로 저장

삭제기능 삭제버튼 클릭시 숫자 입력창의 내용을 삭제

불러오기 기능 불러오기 버튼 클릭시 불러올 영상파일명 입력 후 영상을 불러와 입력창에 출력

인식기능 인식버튼 클릭시 편집창의 숫자를 인식하고 인식결과를 콘솔창에 출력함

종료기능 종료버튼 클릭시 프로그램 종료

초기화 및 윈도우 설정 500x1100 크기의 흰색 캔버스를 생성합니다. "windows"라는 이름의 윈도우를 생성합니다. 마우스 콜백 함수를 설정하여 마우스 이벤트를 처리합니다. 2.메인 루프 무한 루프에서 Set(canvas);를 호출하여 버튼과 캔버스를 화면에 표시합니다.

마우스 이벤트 처리 (onMouse 함수) 마우스 왼쪽 버튼을 눌렀을 때. 입력 영역(500x500) 내에서 드로잉 모드를 활성화합니다. 버튼 영역(500 이상)에서 적절한 작업(저장, 불러오기, 삭제, 실행, 종료)을 수행합니다.

마우스 이동 시. 로잉 모드가 활성화된 경우, 선을 그립니다.

마우스 왼쪽 버튼을 뗐을 때. 드로잉 모드를 비활성화합니다.

인터페이스 설정 (Set 함수): 캔버스를 표시합니다. 버튼 영역을 정의하고 사각형과 텍스트를 그려 사용자 인터페이스를 설정합니다. Save, Load, Clear, Run, Exit 버튼을 설정합니다.

캔버스 지우기 (Clear 함수):Clear 버튼이 클릭되었을 때, 캔버스를 초기 상태로 되돌립니다. 콘솔창에 "windows Clear" 메시지를 출력합니다.

6.각 버튼의 기능 저장 기능(save) Save 버튼 클릭 시, 콘솔창에서 파일명을 입력 받아 현재 입력창의 영상을 파일로 저장합니다. 저장할 영상은 3채널 컬러 영상으로 저장됩니다.

삭제 기능(Clear)Clear 버튼 클릭 시, 입력창의 내용을 삭제합니다. Rect contains 함수를 사용하여 클릭된 영역을 확인하고 마우스 이벤트로 처리합니다.

불러오기 기능(load)Load 버튼 클릭 시, 콘솔창에서 파일명을 입력 받아 영상을 불러와 입력창에 출력합니다.

종료기능(Exit) Exit 버튼 클릭 시, 프로그램을 종료합니다.

Run : 이미지에서 윤곽선을 찾고 그 수를 findContours 함수를 통해 확인합니다. 이후, 윤곽선이 없거나 3개 이상이면 "입력된 숫자가 없습니다." 혹은 "숫자 8"로 판별합니다. 만약 윤곽선이 1개인 경우, 해당 숫자는 1 또는 7일 수 있습니다. 따라서 CuTX1, CuTY1 함수를 사용하여 이미지를 분리하고, 각 부분에서 다시 윤곽선을 찾아 각각의 개수를 확인합니다. 이를 통해 1 또는 7을 판별합니다. 만약 윤곽선이 2개인 경우, 해당 숫자는 0, 4, 6, 9 중 하나입니다.

findContours: 이미지에서 외각선을 찾아 해당 외각선의 수를 반환합니다. 이 함수는 입력 이미지를 이진화하고, 모폴로지 연산을 수행한 뒤에 외각선을 찾습니다.

pixels: 이미지에서 검은색 픽셀의 수를 반환합니다. 이 함수는 입력 이미지를 이진화하여 검은색 픽셀의 수를 계산합니다. 힌색 픽셀의 수를 계산도 가능합니다

CuTX: 이미지의 오른쪽 절반 또는 아래쪽 절반에서 너비 또는 높이가 1인 직사각형을 추출하여 반환합니다. 입력된 mat 객체의 절반부분의 외각선수를 분석하여 갯수를 구하기위해 사용됩니다.

cent: 이미지를 정제하고 connectedComponentsWithStats 함수를 사용하여 연결된 컴포넌트를 찾고, 각 컴포넌트의 레이블, 통계 정보 및 중심점을 얻습니다.윤곽선을 찾고, 각 윤곽선의 중심을 계산하여 이를 중심점으로 저장합니다. 각 중심점에 대해 원을 그려서 시각적으로 표시합니다.중심점들을 반환합니다.

https ://youtu.be/k9xm-xAO1nY
